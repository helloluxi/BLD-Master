
namespace CS.ThreePhase;

public class Moves
{
    public const sbyte U1 = 0;
    public const sbyte U2 = 1;
    public const sbyte U3 = 2;
    public const sbyte U4 = 3;
    public const sbyte U5 = 4;
    public const sbyte U6 = 5;
    public const sbyte U7 = 6;
    public const sbyte U8 = 7;
    public const sbyte U9 = 8;
    public const sbyte R1 = 9;
    public const sbyte R2 = 10;
    public const sbyte R3 = 11;
    public const sbyte R4 = 12;
    public const sbyte R5 = 13;
    public const sbyte R6 = 14;
    public const sbyte R7 = 15;
    public const sbyte R8 = 16;
    public const sbyte R9 = 17;
    public const sbyte F1 = 18;
    public const sbyte F2 = 19;
    public const sbyte F3 = 20;
    public const sbyte F4 = 21;
    public const sbyte F5 = 22;
    public const sbyte F6 = 23;
    public const sbyte F7 = 24;
    public const sbyte F8 = 25;
    public const sbyte F9 = 26;
    public const sbyte D1 = 27;
    public const sbyte D2 = 28;
    public const sbyte D3 = 29;
    public const sbyte D4 = 30;
    public const sbyte D5 = 31;
    public const sbyte D6 = 32;
    public const sbyte D7 = 33;
    public const sbyte D8 = 34;
    public const sbyte D9 = 35;
    public const sbyte L1 = 36;
    public const sbyte L2 = 37;
    public const sbyte L3 = 38;
    public const sbyte L4 = 39;
    public const sbyte L5 = 40;
    public const sbyte L6 = 41;
    public const sbyte L7 = 42;
    public const sbyte L8 = 43;
    public const sbyte L9 = 44;
    public const sbyte B1 = 45;
    public const sbyte B2 = 46;
    public const sbyte B3 = 47;
    public const sbyte B4 = 48;
    public const sbyte B5 = 49;
    public const sbyte B6 = 50;
    public const sbyte B7 = 51;
    public const sbyte B8 = 52;
    public const sbyte B9 = 53;

    public const sbyte u0 = 0x0;
    public const sbyte u1 = 0x1;
    public const sbyte u2 = 0x2;
    public const sbyte u3 = 0x3;
    public const sbyte u4 = 0x4;
    public const sbyte u5 = 0x5;
    public const sbyte u6 = 0x6;
    public const sbyte u7 = 0x7;
    public const sbyte u8 = 0x8;
    public const sbyte u9 = 0x9;
    public const sbyte ua = 0xa;
    public const sbyte ub = 0xb;
    public const sbyte uc = 0xc;
    public const sbyte ud = 0xd;
    public const sbyte ue = 0xe;
    public const sbyte uf = 0xf;
    public const sbyte r0 = 0x10;
    public const sbyte r1 = 0x11;
    public const sbyte r2 = 0x12;
    public const sbyte r3 = 0x13;
    public const sbyte r4 = 0x14;
    public const sbyte r5 = 0x15;
    public const sbyte r6 = 0x16;
    public const sbyte r7 = 0x17;
    public const sbyte r8 = 0x18;
    public const sbyte r9 = 0x19;
    public const sbyte ra = 0x1a;
    public const sbyte rb = 0x1b;
    public const sbyte rc = 0x1c;
    public const sbyte rd = 0x1d;
    public const sbyte re = 0x1e;
    public const sbyte rf = 0x1f;
    public const sbyte f0 = 0x20;
    public const sbyte f1 = 0x21;
    public const sbyte f2 = 0x22;
    public const sbyte f3 = 0x23;
    public const sbyte f4 = 0x24;
    public const sbyte f5 = 0x25;
    public const sbyte f6 = 0x26;
    public const sbyte f7 = 0x27;
    public const sbyte f8 = 0x28;
    public const sbyte f9 = 0x29;
    public const sbyte fa = 0x2a;
    public const sbyte fb = 0x2b;
    public const sbyte fc = 0x2c;
    public const sbyte fd = 0x2d;
    public const sbyte fe = 0x2e;
    public const sbyte ff = 0x2f;
    public const sbyte d0 = 0x30;
    public const sbyte d1 = 0x31;
    public const sbyte d2 = 0x32;
    public const sbyte d3 = 0x33;
    public const sbyte d4 = 0x34;
    public const sbyte d5 = 0x35;
    public const sbyte d6 = 0x36;
    public const sbyte d7 = 0x37;
    public const sbyte d8 = 0x38;
    public const sbyte d9 = 0x39;
    public const sbyte da = 0x3a;
    public const sbyte db = 0x3b;
    public const sbyte dc = 0x3c;
    public const sbyte dd = 0x3d;
    public const sbyte de = 0x3e;
    public const sbyte df = 0x3f;
    public const sbyte l0 = 0x40;
    public const sbyte l1 = 0x41;
    public const sbyte l2 = 0x42;
    public const sbyte l3 = 0x43;
    public const sbyte l4 = 0x44;
    public const sbyte l5 = 0x45;
    public const sbyte l6 = 0x46;
    public const sbyte l7 = 0x47;
    public const sbyte l8 = 0x48;
    public const sbyte l9 = 0x49;
    public const sbyte la = 0x4a;
    public const sbyte lb = 0x4b;
    public const sbyte lc = 0x4c;
    public const sbyte ld = 0x4d;
    public const sbyte le = 0x4e;
    public const sbyte lf = 0x4f;
    public const sbyte b0 = 0x50;
    public const sbyte b1 = 0x51;
    public const sbyte b2 = 0x52;
    public const sbyte b3 = 0x53;
    public const sbyte b4 = 0x54;
    public const sbyte b5 = 0x55;
    public const sbyte b6 = 0x56;
    public const sbyte b7 = 0x57;
    public const sbyte b8 = 0x58;
    public const sbyte b9 = 0x59;
    public const sbyte ba = 0x5a;
    public const sbyte bb = 0x5b;
    public const sbyte bc = 0x5c;
    public const sbyte bd = 0x5d;
    public const sbyte be = 0x5e;
    public const sbyte bf = 0x5f;

    public const int U = 0;
    public const int R = 1;
    public const int F = 2;
    public const int D = 3;
    public const int L = 4;
    public const int B = 5;

    public const int Ux1 = 0;
    public const int Ux2 = 1;
    public const int Ux3 = 2;
    public const int Rx1 = 3;
    public const int Rx2 = 4;
    public const int Rx3 = 5;
    public const int Fx1 = 6;
    public const int Fx2 = 7;
    public const int Fx3 = 8;
    public const int Dx1 = 9;
    public const int Dx2 = 10;
    public const int Dx3 = 11;
    public const int Lx1 = 12;
    public const int Lx2 = 13;
    public const int Lx3 = 14;
    public const int Bx1 = 15;
    public const int Bx2 = 16;
    public const int Bx3 = 17;
    public const int ux1 = 18;
    public const int ux2 = 19;
    public const int ux3 = 20;
    public const int rx1 = 21;
    public const int rx2 = 22;
    public const int rx3 = 23;
    public const int fx1 = 24;
    public const int fx2 = 25;
    public const int fx3 = 26;
    public const int dx1 = 27;
    public const int dx2 = 28;
    public const int dx3 = 29;
    public const int lx1 = 30;
    public const int lx2 = 31;
    public const int lx3 = 32;
    public const int bx1 = 33;
    public const int bx2 = 34;
    public const int bx3 = 35;
    public const int eom = 36;//End Of Moves


    public static readonly string[] move2str = ["U  ", "U2 ", "U' ", "R  ", "R2 ", "R' ", "F  ", "F2 ", "F' ",
                                            "D  ", "D2 ", "D' ", "L  ", "L2 ", "L' ", "B  ", "B2 ", "B' ",
                                            "Uw ", "Uw2", "Uw'", "Rw ", "Rw2", "Rw'", "Fw ", "Fw2", "Fw'",
                                            "Dw ", "Dw2", "Dw'", "Lw ", "Lw2", "Lw'", "Bw ", "Bw2", "Bw'"];

    public static readonly string[] moveIstr = ["U' ", "U2 ", "U  ", "R' ", "R2 ", "R  ", "F' ", "F2 ", "F  ",
                                            "D' ", "D2 ", "D  ", "L' ", "L2 ", "L  ", "B' ", "B2 ", "B  ",
                                            "Uw'", "Uw2", "Uw ", "Rw'", "Rw2", "Rw ", "Fw'", "Fw2", "Fw ",
                                            "Dw'", "Dw2", "Dw ", "Lw'", "Lw2", "Lw ", "Bw'", "Bw2", "Bw "];

    public static int[] move2std = [Ux1, Ux2, Ux3, Rx1, Rx2, Rx3, Fx1, Fx2, Fx3,
                            Dx1, Dx2, Dx3, Lx1, Lx2, Lx3, Bx1, Bx2, Bx3,
                            Moves.ux2, Moves.rx1, rx2, rx3, fx2, Moves.dx2, lx1, lx2, Moves.lx3, bx2, eom];

    public static int[] move3std = [Ux1, Ux2, Ux3, Rx2, Fx1, Fx2, Fx3, Dx1, Dx2, Dx3, Lx2, Bx1, Bx2, Bx3,
                            Moves.ux2, rx2, fx2, Moves.dx2, lx2, bx2, eom];

    public static int[] std2move = new int[37];
    public static int[] std3move = new int[37];

    public static bool[,] ckmv = new bool[37, 36];
    public static bool[,] ckmv2 = new bool[29, 28];
    public static bool[,] ckmv3 = new bool[21, 20];

    public static int[] skipAxis = new int[36];
    public static int[] skipAxis2 = new int[28];
    public static int[] skipAxis3 = new int[20];

    static Moves()
    {
        for (int i = 0; i < 29; i++)
        {
            std2move[Moves.move2std[i]] = i;
        }
        for (int i = 0; i < 21; i++)
        {
            std3move[Moves.move3std[i]] = i;
        }
        for (int i = 0; i < 36; i++)
        {
            for (int j = 0; j < 36; j++)
            {
                ckmv[i, j] = (i / 3 == j / 3) || ((i / 3 % 3 == j / 3 % 3) && (i > j));
            }
            ckmv[36, i] = false;
        }
        for (int i = 0; i < 29; i++)
        {
            for (int j = 0; j < 28; j++)
            {
                Moves.ckmv2[i, j] = ckmv[Moves.move2std[i], Moves.move2std[j]];
            }
        }
        for (int i = 0; i < 21; i++)
        {
            for (int j = 0; j < 20; j++)
            {
                Moves.ckmv3[i, j] = ckmv[Moves.move3std[i], Moves.move3std[j]];
            }
        }
        for (int i = 0; i < 36; i++)
        {
            skipAxis[i] = 36;
            for (int j = i; j < 36; j++)
            {
                if (!ckmv[i, j])
                {
                    skipAxis[i] = j - 1;
                    break;
                }
            }
        }
        for (int i = 0; i < 28; i++)
        {
            Moves.skipAxis2[i] = 28;
            for (int j = i; j < 28; j++)
            {
                if (!Moves.ckmv2[i, j])
                {
                    Moves.skipAxis2[i] = j - 1;
                    break;
                }
            }
        }
        for (int i = 0; i < 20; i++)
        {
            Moves.skipAxis3[i] = 20;
            for (int j = i; j < 20; j++)
            {
                if (!Moves.ckmv3[i, j])
                {
                    Moves.skipAxis3[i] = j - 1;
                    break;
                }
            }
        }
    }
}
